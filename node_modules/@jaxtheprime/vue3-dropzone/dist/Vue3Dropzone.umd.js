(function(e,p){typeof exports=="object"&&typeof module<"u"?module.exports=p(require("vue")):typeof define=="function"&&define.amd?define(["vue"],p):(e=typeof globalThis<"u"?globalThis:e||self,e.Vue3Dropzone=p(e.vue))})(this,function(e){"use strict";const p={key:0,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-file-type-xls"},B=[e.createStaticVNode('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"></path><path d="M4 15l4 6"></path><path d="M4 21l4 -6"></path><path d="M17 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75"></path><path d="M11 15v6h3"></path>',7)],z={key:1,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-file-type-txt"},V=[e.createStaticVNode('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M16.5 15h3"></path><path d="M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"></path><path d="M4.5 15h3"></path><path d="M6 15v6"></path><path d="M18 15v6"></path><path d="M10 15l4 6"></path><path d="M10 21l4 -6"></path>',10)],v={key:2,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-file-type-doc"},S=[e.createStaticVNode('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"></path><path d="M5 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z"></path><path d="M20 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0"></path><path d="M12.5 15a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1 -3 0v-3a1.5 1.5 0 0 1 1.5 -1.5z"></path>',6)],N={key:3,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-file-type-pdf"},b=[e.createStaticVNode('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"></path><path d="M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6"></path><path d="M17 18h2"></path><path d="M20 15h-3v6"></path><path d="M11 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z"></path>',7)],E={key:4,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-file-type-csv"},C=[e.createStaticVNode('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"></path><path d="M7 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0"></path><path d="M10 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75"></path><path d="M16 15l2 6l2 -6"></path>',6)],_={key:5,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-video"},x=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M15 10l4.553 -2.276a1 1 0 0 1 1.447 .894v6.764a1 1 0 0 1 -1.447 .894l-4.553 -2.276v-4z"},null,-1),e.createElementVNode("path",{d:"M3 6m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"},null,-1)],F={__name:"Icon",props:{name:String},setup(t){return(f,l)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[t.name==="xls"?(e.openBlock(),e.createElementBlock("svg",p,B)):e.createCommentVNode("",!0),t.name==="txt"?(e.openBlock(),e.createElementBlock("svg",z,V)):e.createCommentVNode("",!0),t.name==="doc"||t.name==="docx"?(e.openBlock(),e.createElementBlock("svg",v,S)):e.createCommentVNode("",!0),t.name==="pdf"?(e.openBlock(),e.createElementBlock("svg",N,b)):e.createCommentVNode("",!0),t.name==="csv"?(e.openBlock(),e.createElementBlock("svg",E,C)):e.createCommentVNode("",!0),t.name==="mp4"||t.name==="mkv"||t.name==="mpeg-4"||t.name==="webm"||t.name==="mov"?(e.openBlock(),e.createElementBlock("svg",_,x)):e.createCommentVNode("",!0)],64))}},D=(t,f)=>{const l=t.__vccOpts||t;for(const[c,d]of f)l[c]=d;return l},k=t=>(e.pushScopeId("data-v-ce9694a7"),t=t(),e.popScopeId(),t),$={class:"dropzone"},H=["id","accept","multiple"],I=k(()=>e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",class:"transition-all decoration-neutral-150 ease-linear"},[e.createElementVNode("path",{opacity:".4",d:"M22 7.81v6.09l-1.63-1.4c-.78-.67-2.04-.67-2.82 0l-4.16 3.57c-.78.67-2.04.67-2.82 0l-.34-.28c-.71-.62-1.84-.68-2.64-.14l-4.92 3.3-.11.08c-.37-.8-.56-1.75-.56-2.84V7.81C2 4.17 4.17 2 7.81 2h8.38C19.83 2 22 4.17 22 7.81Z",fill:"#c3c3c3"}),e.createElementVNode("path",{d:"M9.001 10.381a2.38 2.38 0 1 0 0-4.76 2.38 2.38 0 0 0 0 4.76ZM21.999 13.899v2.29c0 3.64-2.17 5.81-5.81 5.81h-8.38c-2.55 0-4.39-1.07-5.25-2.97l.11-.08 4.92-3.3c.8-.54 1.93-.48 2.64.14l.34.28c.78.67 2.04.67 2.82 0l4.16-3.57c.78-.67 2.04-.67 2.82 0l1.63 1.4Z",fill:"#c3c3c3"})],-1)),W=k(()=>e.createElementVNode("div",{class:"titles"},[e.createElementVNode("h1",{class:"m-0"},"Drop your files here")],-1)),j={class:"m-0 description"},A=["src","alt"],T={key:2,class:"img-details"},L=["onClick"],U=[k(()=>e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-x"},[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.createElementVNode("path",{d:"M18 6l-12 12"}),e.createElementVNode("path",{d:"M6 6l12 12"})],-1))],Z=["src"];return D({__name:"Vue3Dropzone",props:{modelValue:{type:Array,default:[]},multiple:{type:Boolean,default:!1},previews:{type:Array,default:[]},mode:{type:String,default:"drop",validator(t){return["drop","preview"].includes(t)}},disabled:{type:Boolean,default:!1},state:{type:String,validator(t){return["error","success","indeterminate"].includes(t)}},accept:String,maxFileSize:{type:Number,default:5},maxFiles:{type:Number,default:5},width:[Number,String],height:[Number,String],imgWidth:[Number,String],imgHeight:[Number,String],previewWrapperClasses:String,showSelectButton:{type:Boolean,default:!0},selectFileStrategy:{type:String,default:"replace"}},emits:["drop","update:modelValue"],setup(t,{emit:f}){const l=t,c=f,d=e.ref(null),i=e.ref([]),s=e.ref([]),m=e.ref(!1),O=e.ref(null),g=e.computed(()=>l.id?g:Math.floor(Math.random()*Math.floor(Math.random()*Date.now()))),M=r=>{const a=[...r.target.files].slice(0,l.maxFiles),o=a.map(n=>(n.size/1024/1024).toFixed(2)<=l.maxFileSize),h=a.map(n=>l.accept?l.accept.includes(n.type):[]);if((o.every(n=>n===!0)&&l.accept&&h.every(n=>n===!0)||o.every(n=>n===!0))&&(l.selectFileStrategy==="replace"&&(i.value=a.map(n=>({file:n,id:Math.floor(Math.random()*Math.floor(Math.random()*Date.now()))}))),l.selectFileStrategy==="merge"&&(i.value=[...i.value,...a.map(n=>({file:n,id:Math.floor(Math.random()*Math.floor(Math.random()*Date.now()))}))])),o.some(n=>n!==!0)){const n=a.filter(w=>(w.size/1024/1024).toFixed(2)>l.maxFileSize);c("error",n)}if(l.accept&&h.some(n=>n!==!0)){const n=a.filter(w=>!l.accept.includes(w.type));c("error",n)}const y=[];i.value.map(n=>{y.push({src:URL.createObjectURL(n.file),name:n.file.name,size:n.file.size,type:n.file.type,isTypeAccepted:l.accept?l.accept.includes(n.file.type):void 0,id:n.id})}),s.value=y},u=()=>{!l.disabled&&l.mode!=="preview"&&(m.value=!m.value)},R=r=>{if(u(),!l.disabled&&l.mode!=="preview"){const a={target:{files:[...r.dataTransfer.files]}};c("drop",r),M(a)}},q=r=>{s.value=s.value.filter(a=>a.id!==r.id),i.value=i.value.filter(a=>a.id!==r.id),c("update:modelValue",i.value)},G=()=>{!i.value.length&&l.state==="indeterminate"&&(m.value=!0)},J=()=>{m.value=!1},K=r=>{!l.disabled&&l.mode==="drop"&&r.target.id==="dropzoneWrapper"?d.value.click():r.preventDefault()};return e.watchEffect(()=>{l.previews&&l.previews.length&&(s.value=l.previews.map(r=>({src:r,id:Math.floor(Math.random()*Math.floor(Math.random()*Date.now()))})))}),e.watchEffect(()=>{i.value&&i.value.length&&c("update:modelValue",i.value)}),(r,a)=>(e.openBlock(),e.createElementBlock("div",$,[e.createElementVNode("div",{class:e.normalizeClass(["dropzone-wrapper",[{"dropzone-wrapper--active":m.value,"dropzone-wrapper--disabled":t.disabled},t.state?`dropzone-wrapper--${t.state}`:""]]),style:e.normalizeStyle({width:t.width,height:t.height}),onDragenter:e.withModifiers(u,["prevent"]),onDragleave:e.withModifiers(u,["prevent"]),onDrop:e.withModifiers(R,["prevent"]),onDragover:a[1]||(a[1]=e.withModifiers(()=>{},["prevent"])),onMouseover:G,onMouseleave:J,ref_key:"dropzoneWrapper",ref:O,onClick:e.withModifiers(K,["self"]),id:"dropzoneWrapper"},[e.createElementVNode("input",{type:"file",ref_key:"fileInput",ref:d,class:"hidden",id:g.value,accept:t.accept,onInput:M,multiple:t.multiple},null,40,H),s.value.length?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.mode==="drop"?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["preview-container",t.previewWrapperClasses])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,o=>e.renderSlot(r.$slots,"preview",{data:o},()=>[e.createElementVNode("div",{class:e.normalizeClass(["preview",{preview__multiple:t.multiple,preview__file:o&&o.type&&!o.type.includes("image/")}]),style:e.normalizeStyle({width:`${t.imgWidth} !important`,height:`${t.imgHeight} !important`})},[o&&o.type&&o.type.includes("image/")?(e.openBlock(),e.createElementBlock("img",{key:0,src:o.src,alt:o.name},null,8,A)):e.createCommentVNode("",!0),o&&o.type&&!o.type.includes("image/")||o&&o.type&&!o.type.includes("video/")?(e.openBlock(),e.createBlock(F,{key:1,name:o.name.split(".").pop()},null,8,["name"])):e.createCommentVNode("",!0),o.name||o.size?(e.openBlock(),e.createElementBlock("div",T,[e.createElementVNode("button",{class:"img-remove",onClick:h=>q(o)},U,8,L),e.createElementVNode("h2",null,e.toDisplayString(o.name),1),e.createElementVNode("span",null,e.toDisplayString((o.size/1024/1024).toFixed(2))+"MB",1)])):e.createCommentVNode("",!0)],6)],!0)),256))],2)):e.createCommentVNode("",!0),t.mode==="preview"?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(["preview-container",t.previewWrapperClasses])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,o=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["preview",{preview__multiple:s.value.length>1}]),style:e.normalizeStyle({width:`${t.imgWidth} !important`,height:`${t.imgHeight} !important`})},[e.createElementVNode("img",{src:o.src},null,8,Z)],6))),256))],2)):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.renderSlot(r.$slots,"placeholder-img",{},()=>[I],!0),e.renderSlot(r.$slots,"title",{},()=>[W],!0),e.renderSlot(r.$slots,"button",{fileInput:d.value},()=>[t.showSelectButton?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:a[0]||(a[0]=o=>{var h;return(h=d.value)==null?void 0:h.click()}),class:"select-file"},"Select File")):e.createCommentVNode("",!0)],!0),e.renderSlot(r.$slots,"description",{},()=>[e.createElementVNode("p",j," Files must be under "+e.toDisplayString(t.maxFileSize)+"MB "+e.toDisplayString(t.accept?`and in ${t.accept} formats`:""),1)],!0)],64))],38),t.disabled?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dropzone-wrapper__disabled",onClick:a[2]||(a[2]=e.withModifiers(()=>{},["prevent"])),onDrop:a[3]||(a[3]=e.withModifiers(()=>{},["prevent"])),onDragover:a[4]||(a[4]=e.withModifiers(()=>{},["prevent"]))},null,32)):e.createCommentVNode("",!0)]))}},[["__scopeId","data-v-ce9694a7"]])});
